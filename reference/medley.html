<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Train models using different combinations of predictor variables based upon missing data patterns. — medley • medley</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Train models using different combinations of predictor variables based upon missing data patterns. — medley"><meta name="description" content="This function will train a collection of models based upon the pattern of missingness.
Each observation will be used in the model with most dependent variables available. For example,
consider the following data.frame where `y` is the dependent variable, `x` represents an observed
value, and `NA` indicates a missing value:"><meta property="og:description" content="This function will train a collection of models based upon the pattern of missingness.
Each observation will be used in the model with most dependent variables available. For example,
consider the following data.frame where `y` is the dependent variable, `x` represents an observed
value, and `NA` indicates a missing value:"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">medley</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/medley.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/downsampling.html">Downsampling for Predictive Modeling</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbryer/medley/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Train models using different combinations of predictor variables based upon missing data patterns.</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbryer/medley/blob/master/R/medley.R" class="external-link"><code>R/medley.R</code></a></small>
      <div class="d-none name"><code>medley.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will train a collection of models based upon the pattern of missingness.
Each observation will be used in the model with most dependent variables available. For example,
consider the following data.frame where `y` is the dependent variable, `x` represents an observed
value, and `NA` indicates a missing value:</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">medley</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  method <span class="op">=</span> <span class="va">glm</span>,</span>
<span>  var_sets <span class="op">=</span> <span class="fu"><a href="get_variable_sets.html">get_variable_sets</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, formula <span class="op">=</span> <span class="va">formula</span>, min_set_size <span class="op">=</span></span>
<span>    <span class="va">min_set_size</span><span class="op">)</span>,</span>
<span>  min_set_size <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  exclusive_membership <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'medley'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'medley'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'medley'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">newdata</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'medley'</span></span>
<span><span class="fu">fit</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>with all possible predictor varaibles to be considered.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>data.frame used to estimate the models.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>the function used to train the models (e.g. glm, randomForest).</p></dd>


<dt id="arg-var-sets">var_sets<a class="anchor" aria-label="anchor" href="#arg-var-sets"></a></dt>
<dd><p>a list of formulas to use for the predictive models.</p></dd>


<dt id="arg-min-set-size">min_set_size<a class="anchor" aria-label="anchor" href="#arg-min-set-size"></a></dt>
<dd><p>the minimum set size as a percentage to incldue as a model.</p></dd>


<dt id="arg-exclusive-membership">exclusive_membership<a class="anchor" aria-label="anchor" href="#arg-exclusive-membership"></a></dt>
<dd><p>whether an observation should only be used only in
the model for which the most predictor variables are available. If
`FALSE` then observations may be used in training more than one model.
This is experimental.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other parameters passed to the `fit()` function.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>the results from `medley`.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>the results of `medley`.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>(optional) a new data.frame to get predictions for.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an object with the following elements:</p><dl><dt>n_models</dt>
<dd><p>the number of models trained.</p></dd>

<dt>formulas</dt>
<dd><p>the list of formulas used to train the models.</p></dd>

<dt>models</dt>
<dd><p>list of objects returned from the training method.</p></dd>

<dt>data</dt>
<dd><p>the data.frame used to train the models.</p></dd>

<dt>model_observations</dt>
<dd><p>a data.frame that specifies which observations are used for which model(s).</p></dd>


</dl><p>a vector of predictions.</p>
<p>a vector of fitted values.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>“`
ID Y Var1 Var2 Var3
 1 x    x    x    x
 2 x    x    x   NA
 3 x    x   NA   NA
“`</p>
<p>We can train three different models:</p>
<p>* Model 1: Y ~ Var1 + Var2 + Var3
* Model 2: Y ~ Var1 + Var2
* Model 3: Y ~ Var1</p>
<p>When deciding what model each observation will be used in is determined by examining which model
has the most dependent variables that row has values for. In the example above, row 1 would
be used with model 1, row 2 would be used with model 2, and row 3 would be used with model 3.</p>
<p>If `exclusive_membership = FALSE` then row 1 would be used in all 3 models and row 2 would be
used in models 2 and 3. I do recommend using this parameter with caution as model assumptions
are not confirmed, especially independence.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">formulas</span> <span class="op">&lt;-</span> <span class="fu">medley</span><span class="fu">::</span><span class="fu"><a href="get_variable_sets.html">get_variable_sets</a></span><span class="op">(</span><span class="va">daacs</span>, <span class="va">retained</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">medley_out</span> <span class="op">&lt;-</span> <span class="fu">medley</span><span class="op">(</span>data <span class="op">=</span> <span class="va">daacs</span>, formula <span class="op">=</span> <span class="va">retained</span> <span class="op">~</span> <span class="va">.</span>, var_sets <span class="op">=</span> <span class="va">formulas</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">predicted_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">medley_out</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Predictions will be returned from the first model only.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Bryer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

